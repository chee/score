(function(t){"use strict";function o(e){n.empty(),Object.keys(e).sort(s).forEach(function(r,i){if(i>8)return;var s=e[r],o=t("<li>"),u=t("<span>").addClass("name").text(s),a=t("<span>").addClass("score").text(r);o.append(u).append(" ").append(a),n.append(o)}),u()}function m(){i(),a.toggle(),c.focus(),p.attr("placeholder","INSERT NAME").val("")}var n=t(".scores"),r=t(".old-score");String.prototype.lpad=function(e,t){var n=this;while(n.length<t)n=e+n;return n};var i=function(){t.get("/get",{},o,"json"),setTimeout(i,5e3)};i();var s=function(t,n){return n-t},u=function(){var e=t(".score"),n=t(".name");e.each(function(){var e=t(this),n=e.text(),r=n.lpad(0,6);n>999999&&(n=999999),e.text(r)}),r.text(e.eq(0).text()),n.each(function(){var e=t(this),n=e.text(),r=n.lpad("Â ",10);e.text(r)})},a=t("article"),f=a.eq(1),l=a.find("button"),c=l.filter(".play"),h=l.filter(".win"),p=f.find(".player"),d=10,v=1;c.focus(),p.keypress(function(e){var t=p.val();if(e.which===13)return;t.length>d-1&&(t=t.substring(0,d-1),p.val(t))}),p.keyup(function(e){e.which===13&&h.trigger("click")}),c.click(function(){a.toggle(),p.focus()}),h.click(function(){var e=p.val();if(e.length>d){p.val(""),p.attr("placeholder","TOO LONG");return}if(e.length<v){p.val("");return}e=e.trim().replace(/\s+/g," "),t.post("/put",{player:e},m)})})(window.jQuery,undefined);